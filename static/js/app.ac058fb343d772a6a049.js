webpackJsonp([1],{JPtn:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("7+uW"),n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var i=a("VU/8")({name:"App"},n,!1,function(t){a("JPtn")},null,null).exports,o=a("/ocq"),s=a("gRE1"),l=a.n(s),c=a("fZjL"),d=a.n(c),h=new r.a;var u={name:"echartday",props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"380px"},autoResize:{type:Boolean,default:!0}},data:function(){return{chart:null,sidebarElm:null,chartData:{}}},watch:{chartData:{deep:!0,handler:function(t){this.setOptions(t)}}},mounted:function(){var t,e,a,r,n,i,o,s,l,c=this;h.$on("areaflowresdata",function(t){for(var e=t.Flowstarttime,a=t.Flowendtime,r=[],n=[],i=0;i<t.RData.length;i++){for(var o=[],s=[],l=[],d=[],h=t.RData[i].MeterName+"_今天--332  ↑",u=t.RData[i].MeterName+"_昨天",m=t.RData[i].MeterName+"_前天",p=0;p<t.RData[i].Out.length;p++)d.push(t.RData[i].Out[p].CurrentTime),o.push(t.RData[i].Out[p].CurrentData),s.push(t.RData[i].Out[p].Before24Data),l.push(t.RData[i].Out[p].Before48Data);r.push(o,s,l),n.push(h,u,m)}for(i=0;i<d.length;i++){if(d[i]==e)var f=i-3;if(d[i]==a)var g=i+3}var w=f/Number(d.length)*100,v=g/Number(d.length)*100;console.log("%csta的时间：","font-size:16px;color:green",f),console.log("%ctotallabel","font-size:16px;color:red",n);var b={};for(var x in n)b[n[x]]=0==x;console.log("%cobjlegend","font-size:16px;color:red",b);var y=[];for(i=0;i<n.length;i++)y.push(2*i);var D={Flowstarttime:e,Flowendtime:a,CurrentTime:d,totallabel:n,echartstotaldata:r,sta:w,ed:v,objlegend:b,markdata:y};c.chartData=D,c.$nextTick(c.initChart())}),this.autoResize&&(this.__resizeHandler=(t=function(){c.chart&&c.chart.resize()},e=100,r=void 0,n=void 0,i=void 0,o=void 0,s=void 0,l=function l(){var c=+new Date-o;c<e&&c>0?r=setTimeout(l,e-c):(r=null,a||(s=t.apply(i,n),r||(i=n=null)))},function(){for(var n=arguments.length,c=Array(n),d=0;d<n;d++)c[d]=arguments[d];i=this,o=+new Date;var h=a&&!r;return r||(r=setTimeout(l,e)),h&&(s=t.apply(i,c),i=c=null),s}),window.addEventListener("resize",this.__resizeHandler)),this.sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.sidebarElm&&this.sidebarElm.addEventListener("transitionend",this.sidebarResizeHandler)},beforeDestroy:function(){this.chart&&(this.autoResize&&window.removeEventListener("resize",this.__resizeHandler),this.sidebarElm&&this.sidebarElm.removeEventListener("transitionend",this.sidebarResizeHandler),this.chart.dispose(),this.chart=null)},methods:{sidebarResizeHandler:function(t){"width"===t.propertyName&&this.__resizeHandler()},setOptions:function(t){this.chart.setOption({grid:{width:"92%",left:"80"},legend:{type:"scroll",width:"80%",data:t.totallabel,inactiveColor:"#999",selected:t.objlegend,formatter:function(t){return console.log("%citem","font-size:16px;color:red",t),t}},toolbox:{right:"60",top:"10",feature:{restore:{}}},tooltip:{trigger:"axis",axisPointer:{type:"cross",animation:!1,label:{backgroundColor:"#505765"}}},dataZoom:[{show:!0,realtime:!0,start:t.sta,end:t.ed,filterMode:"filter",textStyle:{color:"rgba(255,255,255,0)"}},{type:"inside",realtime:!0,start:t.sta,end:t.ed,filterMode:"filter",textStyle:{color:"rgba(255,255,255,0)"}}],xAxis:[{data:t.CurrentTime,position:"bottom",axisLine:{show:!0,lineStyle:{color:"#acacac",width:1}},axisTick:{show:!1},axisLabel:{textStyle:{color:"#666"},formatter:function(t){return String(t).slice(10,16)}}}],yAxis:{splitLine:{show:!0,lineStyle:{color:"#e5e5e5",width:1,type:"solid"}},axisLine:{show:!0,lineStyle:{color:"#e5e5e5",width:1}},axisTick:{show:!1},axisLabel:{textStyle:{color:"#666666"}}},series:function(){for(var e=[],a=0;a<t.echartstotaldata.length;a++){var r={type:"line",large:!0,largeThreshold:2e4,animation:!1,name:t.totallabel[a],data:t.echartstotaldata[a],connectNulls:!0,symbol:"none"};0==a&&(r.markArea={silent:!1,itemStyle:{normal:{color:"rgba(234,71,128,0.2)"}},label:{color:"rgba(234,71,128)"},data:[[{name:"预警区域:  "+(" "==String(t.Flowstarttime)?"暂无数据":String(t.Flowstarttime).slice(0,16))+"  —  "+(" "==String(t.Flowendtime)?"暂无数据":String(t.Flowendtime).slice(0,16)),xAxis:" "==t.Flowendtime?t.Flowendtime:t.Flowstarttime},{xAxis:t.Flowendtime}]]}),e.push(r)}return e}()})},initChart:function(){this.chart=this.$echarts.init(this.$el,"macarons"),this.chart.clear(),this.setOptions(this.chartData),this.chart.on("legendselectchanged",function(t){var e=this.getOption(),a=(d()(t.selected),l()(t.selected));console.log("select_value",a,"length",a.length);var r=0;a.map(function(t){t||r++}),console.log("n",r),r==a.length&&(e.legend[0].selected[t.name]=!0),this.setOption(e)})}}},m={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{class:this.className,style:{height:this.height,width:this.width}})},staticRenderFns:[]},p={name:"HelloWorld",components:{echartday:a("VU/8")(u,m,!1,null,null,null).exports},data:function(){return{msg:""}},mounted:function(){this.areaFlow()},methods:{areaFlow:function(){var t=this;this.$axios.post("https://www.easy-mock.com/mock/5ca1a886c035de157baf7fe2/areaflow1/areaflow1").then(function(e){var a=t;console.log("%c接口返回值：","font-size:16px;color:red",e),a.mrareaflowechartsresdata=e.data.RData;var r={RData:e.data.RData,Flowstarttime:"2019-03-20 10:09:00",Flowendtime:"2019-03-20 19:14:00"};h.$emit("areaflowresdata",r)}).catch(function(t){})}}},f={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hello"},[e("div",{staticClass:"echartsbox"},[e("echartday")],1)])},staticRenderFns:[]};var g=a("VU/8")(p,f,!1,function(t){a("zQmE")},"data-v-4d59128d",null).exports;r.a.use(o.a);var w=new o.a({routes:[{path:"/",name:"HelloWorld",component:g}]}),v=a("XLwt"),b=a.n(v),x=a("mtWM"),y=a.n(x);r.a.config.productionTip=!1,r.a.prototype.$echarts=b.a,r.a.prototype.$axios=y.a,new r.a({el:"#app",router:w,components:{App:i},template:"<App/>"})},zQmE:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.ac058fb343d772a6a049.js.map